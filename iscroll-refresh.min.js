/*! iScroll v5.1.3 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */
(function(f,a,e){var h=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||f.msRequestAnimationFrame||function(i){f.setTimeout(i,1000/60)};var c=(function(){var n={};var o=a.createElement("div").style;var l=(function(){var s=["t","webkitT","MozT","msT","OT"],q,r=0,p=s.length;for(;r<p;r++){q=s[r]+"ransform";if(q in o){return s[r].substr(0,s[r].length-1)}}return false})();function m(p){if(l===false){return false}if(l===""){return p}return l+p.charAt(0).toUpperCase()+p.substr(1)}n.getTime=Date.now||function i(){return new Date().getTime()};n.extend=function(r,q){for(var p in q){r[p]=q[p]}};n.addEvent=function(s,r,q,p){s.addEventListener(r,q,!!p)};n.removeEvent=function(s,r,q,p){s.removeEventListener(r,q,!!p)};n.prefixPointerEvent=function(p){return f.MSPointerEvent?"MSPointer"+p.charAt(9).toUpperCase()+p.substr(10):p};n.momentum=function(v,r,s,p,w,x){var q=v-r,t=e.abs(q)/s,y,u;x=x===undefined?0.0006:x;y=v+(t*t)/(2*x)*(q<0?-1:1);u=t/x;if(y<p){y=w?p-(w/2.5*(t/8)):p;q=e.abs(y-v);u=q/t}else{if(y>0){y=w?w/2.5*(t/8):0;q=e.abs(v)+y;u=q/t}}return{destination:e.round(y),duration:u}};var k=m("transform");n.extend(n,{hasTransform:k!==false,hasPerspective:m("perspective") in o,hasTouch:"ontouchstart" in f,hasPointer:f.PointerEvent||f.MSPointerEvent,hasTransition:m("transition") in o});n.isBadAndroid=/Android /.test(f.navigator.appVersion)&&!(/Chrome\/\d/.test(f.navigator.appVersion));n.extend(n.style={},{transform:k,transitionTimingFunction:m("transitionTimingFunction"),transitionDuration:m("transitionDuration"),transitionDelay:m("transitionDelay"),transformOrigin:m("transformOrigin")});n.hasClass=function(q,r){var p=new RegExp("(^|\\s)"+r+"(\\s|$)");return p.test(q.className)};n.addClass=function(q,r){if(n.hasClass(q,r)){return}var p=q.className.split(" ");p.push(r);q.className=p.join(" ")};n.removeClass=function(q,r){if(!n.hasClass(q,r)){return}var p=new RegExp("(^|\\s)"+r+"(\\s|$)","g");q.className=q.className.replace(p," ")};n.offset=function(p){var r=-p.offsetLeft,q=-p.offsetTop;while(p=p.offsetParent){r-=p.offsetLeft;q-=p.offsetTop}return{left:r,top:q}};n.preventDefaultException=function(r,q){for(var p in q){if(q[p].test(r[p])){return true}}return false};n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(p){return p*(2-p)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(p){return e.sqrt(1-(--p*p))}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(q){var p=4;return(q=q-1)*q*((p+1)*q+p)+1}},bounce:{style:"",fn:function(p){if((p/=1)<(1/2.75)){return 7.5625*p*p}else{if(p<(2/2.75)){return 7.5625*(p-=(1.5/2.75))*p+0.75}else{if(p<(2.5/2.75)){return 7.5625*(p-=(2.25/2.75))*p+0.9375}else{return 7.5625*(p-=(2.625/2.75))*p+0.984375}}}}},elastic:{style:"",fn:function(p){var q=0.22,r=0.4;if(p===0){return 0}if(p==1){return 1}return(r*e.pow(2,-10*p)*e.sin((p-q/4)*(2*e.PI)/q)+1)}}});n.tap=function(r,p){var q=a.createEvent("Event");q.initEvent(p,true,true);q.pageX=r.pageX;q.pageY=r.pageY;r.target.dispatchEvent(q)};n.click=function(r){var q=r.target,p;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(q.tagName)){p=a.createEvent("MouseEvents");p.initMouseEvent("click",true,true,r.view,1,q.screenX,q.screenY,q.clientX,q.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null);p._constructed=true;q.dispatchEvent(p)}};return n})();function g(m,k){this.wrapper=typeof m=="string"?a.querySelector(m):m;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var l in k){this.options[l]=k[l]}this.translateZ=this.options.HWCompositing&&c.hasPerspective?" translateZ(0)":"";this.options.useTransition=c.hasTransition&&this.options.useTransition;this.options.useTransform=c.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?c.ease[this.options.bounceEasing]||c.ease.circular:this.options.bounceEasing;
this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap="tap"}if(this.options.shrinkScrollbars=="scale"){this.options.useTransition=false}this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;if(this.options.probeType==3){this.options.useTransition=false}this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}g.prototype={version:"5.1.3",_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators()}if(this.options.mouseWheel){this._initWheel()}if(this.options.snap){this._initSnap()}if(this.options.keyBindings){this._initKeys()}},destroy:function(){this._initEvents(true);this._execEvent("destroy")},_transitionEnd:function(i){if(i.target!=this.scroller||!this.isInTransition){return}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent("scrollEnd")}},_start:function(k){if(c.eventType[k.type]!=1){if(k.button!==0){return}}if(!this.enabled||(this.initiated&&c.eventType[k.type]!==this.initiated)){return}if(this.options.preventDefault&&!c.isBadAndroid&&!c.preventDefaultException(k.target,this.options.preventDefaultException)){k.preventDefault()}var i=k.touches?k.touches[0]:k,l;this.initiated=c.eventType[k.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=c.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;l=this.getComputedPosition();this._translate(e.round(l.x),e.round(l.y));this._execEvent("scrollEnd")}else{if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent("scrollEnd")}}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=i.pageX;this.pointY=i.pageY;this._execEvent("beforeScrollStart")},_move:function(o){if(!this.enabled||c.eventType[o.type]!==this.initiated){return}if(this.options.preventDefault){o.preventDefault()}var q=o.touches?o.touches[0]:o,l=q.pageX-this.pointX,k=q.pageY-this.pointY,p=c.getTime(),i,r,n,m;this.pointX=q.pageX;this.pointY=q.pageY;this.distX+=l;this.distY+=k;n=e.abs(this.distX);m=e.abs(this.distY);if(p-this.endTime>300&&(n<10&&m<10)){return}if(!this.directionLocked&&!this.options.freeScroll){if(n>m+this.options.directionLockThreshold){this.directionLocked="h"}else{if(m>=n+this.options.directionLockThreshold){this.directionLocked="v"}else{this.directionLocked="n"}}}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){o.preventDefault()}else{if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}}k=0}else{if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){o.preventDefault()}else{if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}}l=0}}l=this.hasHorizontalScroll?l:0;k=this.hasVerticalScroll?k:0;i=this.x+l;r=this.y+k;if(i>0||i<this.maxScrollX){i=this.options.bounce?this.x+l/3:i>0?0:this.maxScrollX}if(r>0||r<this.maxScrollY){r=this.options.bounce?this.y+k/3:r>0?0:this.maxScrollY}this.directionX=l>0?-1:l<0?1:0;this.directionY=k>0?-1:k<0?1:0;if(!this.moved){this._execEvent("scrollStart")}this.moved=true;this._translate(i,r);if(p-this.startTime>300){this.startTime=p;this.startX=this.x;this.startY=this.y;if(this.options.probeType==1){this._execEvent("scroll")}}if(this.options.probeType>1){this._execEvent("scroll")}},_end:function(p){if(!this.enabled||c.eventType[p.type]!==this.initiated){return}if(this.options.preventDefault&&!c.preventDefaultException(p.target,this.options.preventDefaultException)){p.preventDefault()}var r=p.changedTouches?p.changedTouches[0]:p,l,k,o=c.getTime()-this.startTime,i=e.round(this.x),u=e.round(this.y),t=e.abs(i-this.startX),s=e.abs(u-this.startY),m=0,q="";this.isInTransition=0;this.initiated=0;this.endTime=c.getTime();if(this.resetPosition(this.options.bounceTime)){return}this.scrollTo(i,u);if(!this.moved){if(this.options.tap){c.tap(p,this.options.tap)}if(this.options.click){c.click(p)}this._execEvent("scrollCancel");return}if(this._events.flick&&o<200&&t<100&&s<100){this._execEvent("flick");return}if(this.options.momentum&&o<300){l=this.hasHorizontalScroll?c.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:i,duration:0};k=this.hasVerticalScroll?c.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:u,duration:0};i=l.destination;u=k.destination;m=e.max(l.duration,k.duration);this.isInTransition=1}if(this.options.snap){var n=this._nearestSnap(i,u);this.currentPage=n;m=this.options.snapSpeed||e.max(e.max(e.min(e.abs(i-n.x),1000),e.min(e.abs(u-n.y),1000)),300);i=n.x;u=n.y;this.directionX=0;this.directionY=0;q=this.options.bounceEasing
}if(i!=this.x||u!=this.y){if(i>0||i<this.maxScrollX||u>0||u<this.maxScrollY){q=c.ease.quadratic}this.scrollTo(i,u,m,q);return}this._execEvent("scrollEnd")},_resize:function(){var i=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){i.refresh()},this.options.resizePolling)},resetPosition:function(k){var i=this.x,l=this.y;k=k||0;if(!this.hasHorizontalScroll||this.x>0){i=0}else{if(this.x<this.maxScrollX){i=this.maxScrollX}}if(!this.hasVerticalScroll||this.y>0){l=0}else{if(this.y<this.maxScrollY){l=this.maxScrollY}}if(i==this.x&&l==this.y){return false}this.scrollTo(i,l,k,this.options.bounceEasing);return true},disable:function(){this.enabled=false},enable:function(){this.enabled=true},refresh:function(){var i=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=c.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(k,i){if(!this._events[k]){this._events[k]=[]}this._events[k].push(i)},off:function(l,k){if(!this._events[l]){return}var i=this._events[l].indexOf(k);if(i>-1){this._events[l].splice(i,1)}},_execEvent:function(n){if(!this._events[n]){return}var m=0,k=this._events[n].length;if(!k){return}for(;m<k;m++){this._events[n][m].apply(this,[].slice.call(arguments,1))}},scrollBy:function(i,m,k,l){i=this.x+i;m=this.y+m;k=k||0;this.scrollTo(i,m,k,l)},scrollTo:function(i,m,k,l){l=l||c.ease.circular;this.isInTransition=this.options.useTransition&&k>0;if(!k||(this.options.useTransition&&l.style)){this._transitionTimingFunction(l.style);this._transitionTime(k);this._translate(i,m)}else{this._animate(i,m,k,l.fn)}},scrollToElement:function(k,l,i,o,n){k=k.nodeType?k:this.scroller.querySelector(k);if(!k){return}var m=c.offset(k);m.left-=this.wrapperOffset.left;m.top-=this.wrapperOffset.top;if(i===true){i=e.round(k.offsetWidth/2-this.wrapper.offsetWidth/2)}if(o===true){o=e.round(k.offsetHeight/2-this.wrapper.offsetHeight/2)}m.left-=i||0;m.top-=o||0;m.left=m.left>0?0:m.left<this.maxScrollX?this.maxScrollX:m.left;m.top=m.top>0?0:m.top<this.maxScrollY?this.maxScrollY:m.top;l=l===undefined||l===null||l==="auto"?e.max(e.abs(this.x-m.left),e.abs(this.y-m.top)):l;this.scrollTo(m.left,m.top,l,n)},_transitionTime:function(l){l=l||0;this.scrollerStyle[c.style.transitionDuration]=l+"ms";if(!l&&c.isBadAndroid){this.scrollerStyle[c.style.transitionDuration]="0.001s"}if(this.indicators){for(var k=this.indicators.length;k--;){this.indicators[k].transitionTime(l)}}},_transitionTimingFunction:function(l){this.scrollerStyle[c.style.transitionTimingFunction]=l;if(this.indicators){for(var k=this.indicators.length;k--;){this.indicators[k].transitionTimingFunction(l)}}},_translate:function(k,m){if(this.options.useTransform){this.scrollerStyle[c.style.transform]="translate("+k+"px,"+m+"px)"+this.translateZ}else{k=e.round(k);m=e.round(m);this.scrollerStyle.left=k+"px";this.scrollerStyle.top=m+"px"}this.x=k;this.y=m;if(this.indicators){for(var l=this.indicators.length;l--;){this.indicators[l].updatePosition()}}},_initEvents:function(i){var k=i?c.removeEvent:c.addEvent,l=this.options.bindToWrapper?this.wrapper:f;k(f,"orientationchange",this);k(f,"resize",this);if(this.options.click){k(this.wrapper,"click",this,true)}if(!this.options.disableMouse){k(this.wrapper,"mousedown",this);k(l,"mousemove",this);k(l,"mousecancel",this);k(l,"mouseup",this)}if(c.hasPointer&&!this.options.disablePointer){k(this.wrapper,c.prefixPointerEvent("pointerdown"),this);k(l,c.prefixPointerEvent("pointermove"),this);k(l,c.prefixPointerEvent("pointercancel"),this);k(l,c.prefixPointerEvent("pointerup"),this)}if(c.hasTouch&&!this.options.disableTouch){k(this.wrapper,"touchstart",this);k(l,"touchmove",this);k(l,"touchcancel",this);k(l,"touchend",this)}k(this.scroller,"transitionend",this);k(this.scroller,"webkitTransitionEnd",this);k(this.scroller,"oTransitionEnd",this);k(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var k=f.getComputedStyle(this.scroller,null),i,l;if(this.options.useTransform){k=k[c.style.transform].split(")")[0].split(", ");i=+(k[12]||k[4]);l=+(k[13]||k[5])}else{i=+k.left.replace(/[^-\d.]/g,"");l=+k.top.replace(/[^-\d.]/g,"")}return{x:i,y:l}},_initIndicators:function(){var m=this.options.interactiveScrollbars,o=typeof this.options.scrollbars!="string",q=[],l;var p=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){l={el:d("v",m,this.options.scrollbars),interactive:m,defaultScrollbars:true,customStyle:o,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};
this.wrapper.appendChild(l.el);q.push(l)}if(this.options.scrollX){l={el:d("h",m,this.options.scrollbars),interactive:m,defaultScrollbars:true,customStyle:o,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(l.el);q.push(l)}}if(this.options.indicators){q=q.concat(this.options.indicators)}for(var n=q.length;n--;){this.indicators.push(new b(this,q[n]))}function k(s){for(var r=p.indicators.length;r--;){s.call(p.indicators[r])}}if(this.options.fadeScrollbars){this.on("scrollEnd",function(){k(function(){this.fade()})});this.on("scrollCancel",function(){k(function(){this.fade()})});this.on("scrollStart",function(){k(function(){this.fade(1)})});this.on("beforeScrollStart",function(){k(function(){this.fade(1,true)})})}this.on("refresh",function(){k(function(){this.refresh()})});this.on("destroy",function(){k(function(){this.destroy()});delete this.indicators})},_initWheel:function(){c.addEvent(this.wrapper,"wheel",this);c.addEvent(this.wrapper,"mousewheel",this);c.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){c.removeEvent(this.wrapper,"wheel",this);c.removeEvent(this.wrapper,"mousewheel",this);c.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(n){if(!this.enabled){return}n.preventDefault();n.stopPropagation();var l,k,o,m,i=this;if(this.wheelTimeout===undefined){i._execEvent("scrollStart")}clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){i._execEvent("scrollEnd");i.wheelTimeout=undefined},400);if("deltaX" in n){if(n.deltaMode===1){l=-n.deltaX*this.options.mouseWheelSpeed;k=-n.deltaY*this.options.mouseWheelSpeed}else{l=-n.deltaX;k=-n.deltaY}}else{if("wheelDeltaX" in n){l=n.wheelDeltaX/120*this.options.mouseWheelSpeed;k=n.wheelDeltaY/120*this.options.mouseWheelSpeed}else{if("wheelDelta" in n){l=k=n.wheelDelta/120*this.options.mouseWheelSpeed}else{if("detail" in n){l=k=-n.detail/3*this.options.mouseWheelSpeed}else{return}}}}l*=this.options.invertWheelDirection;k*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){l=k;k=0}if(this.options.snap){o=this.currentPage.pageX;m=this.currentPage.pageY;if(l>0){o--}else{if(l<0){o++}}if(k>0){m--}else{if(k<0){m++}}this.goToPage(o,m);return}o=this.x+e.round(this.hasHorizontalScroll?l:0);m=this.y+e.round(this.hasVerticalScroll?k:0);if(o>0){o=0}else{if(o<this.maxScrollX){o=this.maxScrollX}}if(m>0){m=0}else{if(m<this.maxScrollY){m=this.maxScrollY}}this.scrollTo(o,m,0);if(this.options.probeType>1){this._execEvent("scroll")}},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=="string"){this.options.snap=this.scroller.querySelectorAll(this.options.snap)}this.on("refresh",function(){var t=0,r,p=0,o,s,q,v=0,u,z=this.options.snapStepX||this.wrapperWidth,w=this.options.snapStepY||this.wrapperHeight,k;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return}if(this.options.snap===true){s=e.round(z/2);q=e.round(w/2);while(v>-this.scrollerWidth){this.pages[t]=[];r=0;u=0;while(u>-this.scrollerHeight){this.pages[t][r]={x:e.max(v,this.maxScrollX),y:e.max(u,this.maxScrollY),width:z,height:w,cx:v-s,cy:u-q};u-=w;r++}v-=z;t++}}else{k=this.options.snap;r=k.length;o=-1;for(;t<r;t++){if(t===0||k[t].offsetLeft<=k[t-1].offsetLeft){p=0;o++}if(!this.pages[p]){this.pages[p]=[]}v=e.max(-k[t].offsetLeft,this.maxScrollX);u=e.max(-k[t].offsetTop,this.maxScrollY);s=v-e.round(k[t].offsetWidth/2);q=u-e.round(k[t].offsetHeight/2);this.pages[p][o]={x:v,y:u,width:k[t].offsetWidth,height:k[t].offsetHeight,cx:s,cy:q};if(v>this.maxScrollX){p++}}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold}else{this.snapThresholdX=e.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=e.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold)}});this.on("flick",function(){var i=this.options.snapSpeed||e.max(e.max(e.min(e.abs(this.x-this.startX),1000),e.min(e.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,i)})},_nearestSnap:function(n,q){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0}}var p=0,o=this.pages.length,k=0;if(e.abs(n-this.absStartX)<this.snapThresholdX&&e.abs(q-this.absStartY)<this.snapThresholdY){return this.currentPage}if(n>0){n=0}else{if(n<this.maxScrollX){n=this.maxScrollX}}if(q>0){q=0}else{if(q<this.maxScrollY){q=this.maxScrollY}}for(;p<o;p++){if(n>=this.pages[p][0].cx){n=this.pages[p][0].x;break}}o=this.pages[p].length;for(;k<o;k++){if(q>=this.pages[0][k].cy){q=this.pages[0][k].y;break}}if(p==this.currentPage.pageX){p+=this.directionX;if(p<0){p=0}else{if(p>=this.pages.length){p=this.pages.length-1}}n=this.pages[p][0].x}if(k==this.currentPage.pageY){k+=this.directionY;
if(k<0){k=0}else{if(k>=this.pages[0].length){k=this.pages[0].length-1}}q=this.pages[0][k].y}return{x:n,y:q,pageX:p,pageY:k}},goToPage:function(i,o,k,n){n=n||this.options.bounceEasing;if(i>=this.pages.length){i=this.pages.length-1}else{if(i<0){i=0}}if(o>=this.pages[i].length){o=this.pages[i].length-1}else{if(o<0){o=0}}var m=this.pages[i][o].x,l=this.pages[i][o].y;k=k===undefined?this.options.snapSpeed||e.max(e.max(e.min(e.abs(m-this.x),1000),e.min(e.abs(l-this.y),1000)),300):k;this.currentPage={x:m,y:l,pageX:i,pageY:o};this.scrollTo(m,l,k,n)},next:function(k,m){var i=this.currentPage.pageX,l=this.currentPage.pageY;i++;if(i>=this.pages.length&&this.hasVerticalScroll){i=0;l++}this.goToPage(i,l,k,m)},prev:function(k,m){var i=this.currentPage.pageX,l=this.currentPage.pageY;i--;if(i<0&&this.hasVerticalScroll){i=0;l--}this.goToPage(i,l,k,m)},_initKeys:function(m){var l={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var k;if(typeof this.options.keyBindings=="object"){for(k in this.options.keyBindings){if(typeof this.options.keyBindings[k]=="string"){this.options.keyBindings[k]=this.options.keyBindings[k].toUpperCase().charCodeAt(0)}}}else{this.options.keyBindings={}}for(k in l){this.options.keyBindings[k]=this.options.keyBindings[k]||l[k]}c.addEvent(f,"keydown",this);this.on("destroy",function(){c.removeEvent(f,"keydown",this)})},_key:function(o){if(!this.enabled){return}var i=this.options.snap,p=i?this.currentPage.pageX:this.x,n=i?this.currentPage.pageY:this.y,l=c.getTime(),k=this.keyTime||0,m=0.25,q;if(this.options.useTransition&&this.isInTransition){q=this.getComputedPosition();this._translate(e.round(q.x),e.round(q.y));this.isInTransition=false}this.keyAcceleration=l-k<200?e.min(this.keyAcceleration+m,50):0;switch(o.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){p+=i?1:this.wrapperWidth}else{n+=i?1:this.wrapperHeight}break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){p-=i?1:this.wrapperWidth}else{n-=i?1:this.wrapperHeight}break;case this.options.keyBindings.end:p=i?this.pages.length-1:this.maxScrollX;n=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:p=0;n=0;break;case this.options.keyBindings.left:p+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:n+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:p-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:n-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i){this.goToPage(p,n);return}if(p>0){p=0;this.keyAcceleration=0}else{if(p<this.maxScrollX){p=this.maxScrollX;this.keyAcceleration=0}}if(n>0){n=0;this.keyAcceleration=0}else{if(n<this.maxScrollY){n=this.maxScrollY;this.keyAcceleration=0}}this.scrollTo(p,n,0);this.keyTime=l},_animate:function(s,r,m,i){var p=this,o=this.x,n=this.y,k=c.getTime(),q=k+m;function l(){var t=c.getTime(),v,u,w;if(t>=q){p.isAnimating=false;p._translate(s,r);if(!p.resetPosition(p.options.bounceTime)){p._execEvent("scrollEnd")}return}t=(t-k)/m;w=i(t);v=(s-o)*w+o;u=(r-n)*w+n;p._translate(v,u);if(p.isAnimating){h(l)}if(p.options.probeType==3){p._execEvent("scroll")}}this.isAnimating=true;l()},handleEvent:function(i){switch(i.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(i);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(i);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(i);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(i);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(i);break;case"keydown":this._key(i);break;case"click":if(!i._constructed){i.preventDefault();i.stopPropagation()}break}}};function d(m,k,l){var n=a.createElement("div"),i=a.createElement("div");if(l===true){n.style.cssText="position:absolute;z-index:9999";i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"}i.className="iScrollIndicator";if(m=="h"){if(l===true){n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0";i.style.height="100%"}n.className="iScrollHorizontalScrollbar"}else{if(l===true){n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px";i.style.width="100%"}n.className="iScrollVerticalScrollbar"}n.style.cssText+=";overflow:hidden";if(!k){n.style.pointerEvents="none"}n.appendChild(i);return n}function b(k,l){this.wrapper=typeof l.el=="string"?a.querySelector(l.el):l.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=k;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};
for(var m in l){this.options[m]=l[m]}this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){c.addEvent(this.indicator,"touchstart",this);c.addEvent(f,"touchend",this)}if(!this.options.disablePointer){c.addEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this);c.addEvent(f,c.prefixPointerEvent("pointerup"),this)}if(!this.options.disableMouse){c.addEvent(this.indicator,"mousedown",this);c.addEvent(f,"mouseup",this)}}if(this.options.fade){this.wrapperStyle[c.style.transform]=this.scroller.translateZ;this.wrapperStyle[c.style.transitionDuration]=c.isBadAndroid?"0.001s":"0ms";this.wrapperStyle.opacity="0"}}b.prototype={handleEvent:function(i){switch(i.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(i);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(i);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(i);break}},destroy:function(){if(this.options.interactive){c.removeEvent(this.indicator,"touchstart",this);c.removeEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this);c.removeEvent(this.indicator,"mousedown",this);c.removeEvent(f,"touchmove",this);c.removeEvent(f,c.prefixPointerEvent("pointermove"),this);c.removeEvent(f,"mousemove",this);c.removeEvent(f,"touchend",this);c.removeEvent(f,c.prefixPointerEvent("pointerup"),this);c.removeEvent(f,"mouseup",this)}if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper)}},_start:function(k){var i=k.touches?k.touches[0]:k;k.preventDefault();k.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=i.pageX;this.lastPointY=i.pageY;this.startTime=c.getTime();if(!this.options.disableTouch){c.addEvent(f,"touchmove",this)}if(!this.options.disablePointer){c.addEvent(f,c.prefixPointerEvent("pointermove"),this)}if(!this.options.disableMouse){c.addEvent(f,"mousemove",this)}this.scroller._execEvent("beforeScrollStart")},_move:function(o){var k=o.touches?o.touches[0]:o,l,i,p,n,m=c.getTime();if(!this.moved){this.scroller._execEvent("scrollStart")}this.moved=true;l=k.pageX-this.lastPointX;this.lastPointX=k.pageX;i=k.pageY-this.lastPointY;this.lastPointY=k.pageY;p=this.x+l;n=this.y+i;this._pos(p,n);if(this.scroller.options.probeType==1&&m-this.startTime>300){this.startTime=m;this.scroller._execEvent("scroll")}else{if(this.scroller.options.probeType>1){this.scroller._execEvent("scroll")}}o.preventDefault();o.stopPropagation()},_end:function(l){if(!this.initiated){return}this.initiated=false;l.preventDefault();l.stopPropagation();c.removeEvent(f,"touchmove",this);c.removeEvent(f,c.prefixPointerEvent("pointermove"),this);c.removeEvent(f,"mousemove",this);if(this.scroller.options.snap){var i=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var k=this.options.snapSpeed||e.max(e.max(e.min(e.abs(this.scroller.x-i.x),1000),e.min(e.abs(this.scroller.y-i.y),1000)),300);if(this.scroller.x!=i.x||this.scroller.y!=i.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=i;this.scroller.scrollTo(i.x,i.y,k,this.scroller.options.bounceEasing)}}if(this.moved){this.scroller._execEvent("scrollEnd")}},transitionTime:function(i){i=i||0;this.indicatorStyle[c.style.transitionDuration]=i+"ms";if(!i&&c.isBadAndroid){this.indicatorStyle[c.style.transitionDuration]="0.001s"}},transitionTimingFunction:function(i){this.indicatorStyle[c.style.transitionTimingFunction]=i},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none"}else{if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none"}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none"}}if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){c.addClass(this.wrapper,"iScrollBothScrollbars");c.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="8px"}else{this.wrapper.style.bottom="8px"}}}else{c.removeClass(this.wrapper,"iScrollBothScrollbars");c.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="2px"}else{this.wrapper.style.bottom="2px"}}}var i=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=e.max(e.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px"}else{this.indicatorWidth=this.indicator.clientWidth}this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=="clip"){this.minBoundaryX=-this.indicatorWidth+8;
this.maxBoundaryX=this.wrapperWidth-8}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX}this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX))}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=e.max(e.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+"px"}else{this.indicatorHeight=this.indicator.clientHeight}this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=="clip"){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY))}this.updatePosition()},updatePosition:function(){var i=this.options.listenX&&e.round(this.sizeRatioX*this.scroller.x)||0,k=this.options.listenY&&e.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(i<this.minBoundaryX){if(this.options.shrink=="scale"){this.width=e.max(this.indicatorWidth+i,8);this.indicatorStyle.width=this.width+"px"}i=this.minBoundaryX}else{if(i>this.maxBoundaryX){if(this.options.shrink=="scale"){this.width=e.max(this.indicatorWidth-(i-this.maxPosX),8);this.indicatorStyle.width=this.width+"px";i=this.maxPosX+this.indicatorWidth-this.width}else{i=this.maxBoundaryX}}else{if(this.options.shrink=="scale"&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+"px"}}}if(k<this.minBoundaryY){if(this.options.shrink=="scale"){this.height=e.max(this.indicatorHeight+k*3,8);this.indicatorStyle.height=this.height+"px"}k=this.minBoundaryY}else{if(k>this.maxBoundaryY){if(this.options.shrink=="scale"){this.height=e.max(this.indicatorHeight-(k-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+"px";k=this.maxPosY+this.indicatorHeight-this.height}else{k=this.maxBoundaryY}}else{if(this.options.shrink=="scale"&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+"px"}}}}this.x=i;this.y=k;if(this.scroller.options.useTransform){this.indicatorStyle[c.style.transform]="translate("+i+"px,"+k+"px)"+this.scroller.translateZ}else{this.indicatorStyle.left=i+"px";this.indicatorStyle.top=k+"px"}},_pos:function(i,k){if(i<0){i=0}else{if(i>this.maxPosX){i=this.maxPosX}}if(k<0){k=0}else{if(k>this.maxPosY){k=this.maxPosY}}i=this.options.listenX?e.round(i/this.sizeRatioX):this.scroller.x;k=this.options.listenY?e.round(k/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(i,k)},fade:function(m,l){if(l&&!this.visible){return}clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var k=m?250:500,i=m?0:300;m=m?"1":"0";this.wrapperStyle[c.style.transitionDuration]=k+"ms";this.fadeTimeout=setTimeout((function(n){this.wrapperStyle.opacity=n;this.visible=+n}).bind(this,m),i)}};g.utils=c;if(typeof module!="undefined"&&module.exports){module.exports=g}else{f.IScroll=g}})(window,document,Math);var iScrollRefresh=function(l,S,g){var G={pullDown:{height:60,nextTime:3600,html:'<span class="ico"><i></i></span><span class="tip"><b>下拉刷新...</b><i></i></span>',except:[],contentDown:"下拉刷新...",contentHover:"释放立即刷新...",contentRefresh:"正在刷新...",contentNomore:"没有更多新数据了...",callback:null,animation:null},pullUp:{height:40,html:'<span class="ico"></span><span class="tip">上拉加载更多</span>',except:[],contentUp:"上拉加载更多...",contentHover:"释放立即加载...",contentRefresh:"正在加载...",contentNomore:"没有更多数据了...",callback:null,animation:null},tabs:"tabs",tabs_bd:"tabs-bd",slide:null};var d=this;var e=false;var M=G.pullDown.height;var k=G.pullDown.html;var D=[];var P=false;var s=G.pullUp.height;var t=G.pullUp.html;var T=[];var F;var o=[];var h;var m;var B;var p=[];var z=false;var K,L,q,O,f,R,W,b;function c(){h=document.getElementById(G.tabs).getElementsByClassName("tab-scroller")[0].getElementsByTagName("a");var ac=0;for(var ad=0;ad<h.length;ad++){ac+=h[ad].offsetWidth}ac+=1;document.getElementById(G.tabs).querySelector(".tab-scroller").style.width=ac+"px";F=new IScroll("#"+G.tabs,{scrollX:true,scrollY:false,snap:"a",click:true});var ab=document.getElementById(G.tabs_bd).getElementsByClassName("tabs-bd-scroller")[0];B=document.getElementById(G.tabs_bd).offsetWidth;var aa=document.getElementById(G.tabs_bd).offsetHeight;var af=ab.getElementsByClassName("wrapper");ab.style.width=B*af.length+"px";for(ad=0;ad<af.length;ad++){af[ad].style.width=B+"px";af[ad].style.height=aa+"px";var ag=af[ad].id||"scroll-warpper-"+ad;af[ad].id=ag;h[ad].setAttribute("href","#"+ag);h[ad].id="tab-"+ag;p[ad]=new IScroll("#"+ag,{probeType:3,click:true});var Z=document.createElement("div");Z.className="pullDownTip";Z.innerHTML=k;af[ad].appendChild(Z);var ae=document.createElement("div");ae.className="pullUpTip";ae.innerHTML=t;af[ad].appendChild(ae);p[ad].on("scrollStart",Y);
p[ad].on("scroll",H);p[ad].on("scrollEnd",Q);D[ad]=false}m=new IScroll("#"+G.tabs_bd,{scrollX:true,scrollY:false,momentum:false,snap:true});m.on("scrollEnd",a);w()}function w(){for(var Z=0;Z<h.length;Z++){h[Z].addEventListener("click",function(ab){ab.preventDefault();var ac=ab.target||ab.srcElement;var aa=ac.getAttribute("href").replace("#scroll-warpper-","");m.goToPage(parseInt(aa),0,500)},false)}}function i(aa,Z){E(aa.scroller).animate({top:"0px"},500)}function I(Z,aa){X(Z).querySelector(".tip b").innerHTML=aa}function C(ac,aa){if(G.pullDown.animation){var Z={scroll:ac,index:m.currentPage.pageX,downTip:X(ac),status:aa};G.pullDown.animation(param);return}if(aa==0){var ab=ac.y/M*180;X(ac).querySelector(".ico i").style.transform="rotate("+ab+"deg)"}}function X(Z){return Z.wrapper.querySelector(".pullDownTip")}function U(Z,aa){v(Z).querySelector(".tip").innerHTML=aa}function V(ac,aa){if(G.pullUp.animation){var Z={scroll:ac,index:m.currentPage.pageX,downTip:v(ac),status:aa};G.pullUp.animation(param);return}var ab=180;if(aa==0){v(ac).querySelector(".ico").className="ico";v(ac).querySelector(".ico").style.transform="rotate("+ab+"deg)"}else{if(aa==1){ab=0;v(ac).querySelector(".ico").className="ico";v(ac).querySelector(".ico").style.transform="rotate("+ab+"deg)"}else{if(aa==2){v(ac).querySelector(".ico").className="ico loading"}}}}function v(Z){return Z.wrapper.querySelector(".pullUpTip")}function x(Z){R=true;if(D[m.currentPage.pageX]){return}if(K<-80){R=false}for(var ac=0;ac<G.pullDown.except.length;ac++){if(G.pullDown.except[ac]==m.currentPage.pageX){R=false}}if(!R){X(Z).style.display="none";return}O=Z.scroller.getAttribute("noMore")?1:0;var ae=(new Date()).getTime();q=ae;f=Z.scroller.getAttribute("lastupdate")||ae;var ab=parseInt((ae-f)/1000);if(O===1&&ab<=G.pullDown.nextTime){X(Z).style.display="none";R=false;Z.scroller.setAttribute("noMore",0)}else{I(Z,G.pullDown.contentDown);X(Z).style.display="block";R=true;var aa=new Date(parseInt(f));var ad=(aa.getMonth()+1)+"/"+aa.getDate()+" "+aa.getHours()+":"+aa.getMinutes()+":"+aa.getSeconds();X(Z).querySelector(".tip i").innerHTML="最后刷新："+ad}}function J(Z){W=true;if(K>Z.maxScrollY+80){W=false;return}if(T[m.currentPage.pageX]){return}for(var aa=0;aa<G.pullUp.except.length;aa++){if(G.pullUp.except[aa]==m.currentPage.pageX){W=false}}if(!W){v(Z).style.display="none";return}b=Z.scroller.getAttribute("loadedAll")?1:0;if(b){v(Z).style.display="none";W=false}else{v(Z).style.display="block";U(Z,G.pullUp.contentUp);W=true}}var u=true;function n(){if(!u){return false}var aa=(new Date()).getTime();var Z=aa-q;if(Z>200){u=false}else{u=true}return u}function a(){var Z=Math.abs(this.x)/B;F.scrollToElement("#tab-scroll-warpper-"+Z,700,true);document.getElementById(G.tabs).querySelector(".tab-scroller .active").className="";document.getElementById("tab-scroll-warpper-"+Z).className="active";if(G.slide){G.slide(m.currentPage.pageX)}p[m.currentPage.pageX].enable()}var y=false;function Y(){y=false;z=false;K=this.y;L=m.x;x(this);J(this)}function H(){if(z){this.disable();this.scrollTo(0,K);return}if(y){m.disable();m.goToPage(m.currentPage.pageX,0)}if(!y&&!z){var aa=Math.abs(m.x-L);var Z=Math.abs(this.y-K);if(aa>5||Z>5){if(aa>Z){z=true}else{y=true}}}if(n()){return}if(R){if(this.y>=M&&!e&&this.directionY==-1){e=true;I(this,G.pullDown.contentHover);C(this,1)}else{if(this.y<M&&this.y>=0){if(this.directionY===1){e=false}if(!e){C(this,0)}else{this.scroller.style.top=(M-this.y)+"px"}}}}if(W){if(this.y<=(this.maxScrollY-s)&&!P&&this.directionY==1){P=true;U(this,G.pullUp.contentHover);V(this,1)}else{if(this.y>(this.maxScrollY-s)&&this.y<this.maxScrollY){if(this.directionY===-1){P=false;V(this,0)}if(P){var ab=this.maxScrollY-this.y-s;this.scroller.style.top=ab+"px"}}}}}function Q(){m.enable();this.enable();z=false;var Z=this;if(e){I(Z,G.pullDown.contentRefresh);C(this,2);var ac=Z.scroller.getAttribute("lastupdate")||0;var ab={scroll:Z,index:m.currentPage.pageX,lastUpdate:ac,};D[ab.index]=true;A(ab)}else{if(P){U(Z,G.pullUp.contentRefresh);V(Z,2);var ac=Z.scroller.getAttribute("lastupdate")||0;var aa=Z.scroller.getAttribute("page");if(!aa){aa=0}var ab={scroll:Z,index:m.currentPage.pageX,lastUpdate:ac,page:parseInt(aa)};T[ab.index]=true;r(ab)}}}this.pullDownCallBack=function(ac,ab){var Z=ac.scroll;e=false;Z.refresh();D[ac.index]=false;if(typeof(ab)!="undefined"){Z.scroller.setAttribute("noMore","1");I(Z,G.pullDown.contentNomore);C(Z,3);setTimeout(function(){i(Z,0)},2000)}else{I(Z,G.pullDown.contentDown);C(Z,0);i(Z,0)}var aa=(new Date()).getTime();Z.scroller.setAttribute("lastupdate",aa)};this.pullUpCallBack=function(ac,aa){var Z=ac.scroll;P=false;Z.refresh();T[ac.index]=false;var ab=Z.scroller.getAttribute("page");if(!ab){ab=0}Z.scroller.setAttribute("page",(parseInt(ab)+1));if(typeof(aa)!="undefined"){Z.scroller.setAttribute("loadedAll","1");U(Z,G.pullUp.contentNomore);V(Z,3);setTimeout(function(){i(Z,0);V(Z,0)},2000)}else{U(Z,G.pullUp.contentUp);i(Z,0);V(Z,0)}};function r(Z){if(typeof(G.pullUp.callback)=="function"){G.pullUp.callback(Z)
}else{setTimeout(function(){d.pullUpCallBack(Z,1)},2000)}}function A(Z){if(typeof(G.pullDown.callback)=="function"){G.pullDown.callback(Z)}else{setTimeout(function(){d.pullDownCallBack(Z,1)},2000)}}var E=function(aa){var ab=j=0,ad,ac={},Z=function(af,ae,ah,ag){return -ah*(af/=ag)*(af-2)+ae};ac.execution=function(ag,aj,af){var ah=(new Date()).getTime(),ai=af||500,ae=parseInt(aa.style[ag])||0,ak=aj-ae;(function(){var al=(new Date()).getTime()-ah;if(al>ai){al=ai;aa.style[ag]=Z(al,ae,ak,ai)+"px";++ab==j&&ad&&ad.apply(aa);return ac}aa.style[ag]=Z(al,ae,ak,ai)+"px";setTimeout(arguments.callee,10)})()};ac.animate=function(ae,ag,ah){ad=ah;for(var af in ae){j++;ac.execution(af,parseInt(ae[af]),ag)}};return ac};function N(aa,ab,Z){G.tabs=aa;G.tabs_bd=ab;if(typeof(Z)!="undefined"){if(typeof(Z.pullDown)!="undefined"){G.pullDown.height=typeof(Z.pullDown.height)!="undefined"?Z.pullDown.height:G.pullDown.height;G.pullDown.nextTime=typeof(Z.pullDown.nextTime)!="undefined"?Z.pullDown.nextTime:G.pullDown.nextTime;G.pullDown.html=typeof(Z.pullDown.html)!="undefined"?Z.pullDown.html:G.pullDown.html;G.pullDown.except=typeof(Z.pullDown.except)!="undefined"?Z.pullDown.except:G.pullDown.except;G.pullDown.contentDown=typeof(Z.pullDown.contentDown)!="undefined"?Z.pullDown.contentDown:G.pullDown.contentDown;G.pullDown.contentHover=typeof(Z.pullDown.contentHover)!="undefined"?Z.pullDown.contentHover:G.pullDown.contentHover;G.pullDown.contentRefresh=typeof(Z.pullDown.contentRefresh)!="undefined"?Z.pullDown.contentRefresh:G.pullDown.contentRefresh;G.pullDown.contentNomore=typeof(Z.pullDown.contentNomore)!="undefined"?Z.pullDown.contentNomore:G.pullDown.contentNomore;G.pullDown.callback=typeof(Z.pullDown.callback)!="undefined"?Z.pullDown.callback:G.pullDown.callback;G.pullDown.animation=typeof(Z.pullDown.animation)!="undefined"?Z.pullDown.animation:G.pullDown.animation}if(typeof(Z.pullUp)!="undefined"){G.pullUp.height=typeof(Z.pullUp.height)!="undefined"?Z.pullUp.height:G.pullUp.height;G.pullUp.nextTime=typeof(Z.pullUp.nextTime)!="undefined"?Z.pullUp.nextTime:G.pullUp.nextTime;G.pullUp.html=typeof(Z.pullUp.html)!="undefined"?Z.pullUp.html:G.pullUp.html;G.pullUp.except=typeof(Z.pullUp.except)!="undefined"?Z.pullUp.except:G.pullUp.except;G.pullUp.contentUp=typeof(Z.pullUp.contentUp)!="undefined"?Z.pullUp.contentUp:G.pullUp.contentUp;G.pullUp.contentHover=typeof(Z.pullUp.contentHover)!="undefined"?Z.pullUp.contentHover:G.pullUp.contentHover;G.pullUp.contentRefresh=typeof(Z.pullUp.contentRefresh)!="undefined"?Z.pullUp.contentRefresh:G.pullUp.contentRefresh;G.pullUp.contentNomore=typeof(Z.pullUp.contentNomore)!="undefined"?Z.pullUp.contentNomore:G.pullUp.contentNomore;G.pullUp.callback=typeof(Z.pullUp.callback)!="undefined"?Z.pullUp.callback:G.pullUp.callback;G.pullUp.animation=typeof(Z.pullUp.animation)!="undefined"?Z.pullUp.animation:G.pullUp.animation}}c()}N(l,S,g);this.setUpAction=function(Z){G.pullUp.callback=Z};this.setDownAction=function(Z){G.pullDown.callback=Z};this.setUpAnimation=function(Z){G.pullUp.animation=Z};this.setDownAnimation=function(Z){G.pullDown.animation=Z};this.refresh=function(Z){p[Z].refresh()};this.setPage=function(Z,aa){if(typeof(aa)!="number"){aa=1}p[Z].scroller.setAttribute("page",aa)};this.setNoMore=function(Z){p[Z].scroller.setAttribute("nomore",1)};this.setLoadedAll=function(Z){p[Z].scroller.setAttribute("loadedAll",1)};this.slide=function(Z,aa){G.slide=Z;if(typeof(aa)=="undefined"){Z(m.currentPage.pageX)}};this.bdScroll=m;return this};